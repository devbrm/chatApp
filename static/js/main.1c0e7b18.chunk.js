(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{15:function(e,t,a){e.exports=a(31)},20:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(13),l=a.n(c),u=a(5),o=(a(20),a(9)),s=a.n(o);s.a.initializeApp({apiKey:"AIzaSyDq9WMfI3E8u9FuP4PI0666wWE61kl-lUY",authDomain:"chat-app-5a6d2.firebaseapp.com",databaseURL:"https://chat-app-5a6d2.firebaseio.com",projectId:"chat-app-5a6d2",storageBucket:"chat-app-5a6d2.appspot.com",messagingSenderId:"441381505245",appId:"1:441381505245:web:6bef42ec64d28e21103334",measurementId:"G-8B6F6ESB79"});var m=s.a.database();s.a;var i=function(e){var t=e.room,a=Object(n.useContext)(d),c=a.setRoom,l=a.setMenuClicked;return r.a.createElement("button",{name:t,onClick:function(e){var t=e.target.name;c(t),l(!1)}},t)},p=m.ref("chat-rooms");var f=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(u.a)(l,2),s=o[0],m=o[1],f=Object(n.useContext)(d),v=f.setRoom,E=f.setMenuClicked;return Object(n.useEffect)((function(){var e=!0;return p.on("value",(function(t){var a=t.val();if(a){var n=Object.keys(a);e&&m(n)}else e&&m([])})),function(){e=!1}}),[]),r.a.createElement("div",{className:"chatRoomsContainer"},r.a.createElement("a",{href:"https://devbrm.github.io/portfolio/",rel:"noopener noreferrer",target:"_blank"},"Visit Developer's site"),r.a.createElement("h1",null,"Select any Chat room"),r.a.createElement("div",{className:"chatRooms"},s.map((function(e){return r.a.createElement(i,{key:e,room:e})}))),r.a.createElement("div",null,"or"),r.a.createElement("form",null,r.a.createElement("input",{placeholder:"Room Name",type:"text",onChange:function(e){c(e.target.value)},value:a}),r.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),a&&(v(a),E(!1),c(""))}},"Create Room")))},v=a(14);var E=function(e){var t=e.item,a=e.userName;return r.a.createElement("div",{className:t.userName===a?"userMessages":""},t.userName,r.a.createElement("p",{id:t.key,"data-is-big":t.message.length>100,"data-username":t.userName},t.message))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===e.length||(e.trim().length?t?e.length<=t:e.trim().length:void 0)};var b=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),i=s[0],p=s[1],f=Object(n.useContext)(O).userName,b=e.room,d=Object(n.useRef)(null),g=m.ref("chat-rooms/"+b);return Object(n.useEffect)((function(){var e=!0;return g.on("value",(function(t){var a=t.val();if(a){var n=Object.keys(a);e&&p(n.map((function(e){return Object(v.a)({key:e},a[e])})))}else e&&p([])})),function(){e=!1}}),[b]),Object(n.useEffect)((function(){d.current.lastChild&&d.current.lastChild.scrollIntoView()}),[i]),r.a.createElement("div",{className:"messagesContainer"},r.a.createElement("div",{ref:d,className:"messages"},i.map((function(e){return r.a.createElement(E,{item:e,userName:f,key:e.key})}))),r.a.createElement("form",null,r.a.createElement("input",{onChange:function(e){var t=e.target.value;l(t)},onKeyDown:function(e){"Enter"===e.key&&h(c)&&c.length&&(e.preventDefault(),g.push({message:c.trim(),userName:f}),l(""))},type:"text",value:c,placeholder:"Aa"}),r.a.createElement("button",{onClick:function(e){e.preventDefault(),h(c)&&c.length&&(g.push({message:c.trim(),userName:f}),l(""))}},r.a.createElement("i",{className:"fas fa-2x fa-paper-plane"}))))},d=r.a.createContext();var g=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(u.a)(l,2),s=o[0],m=o[1],i=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.Provider,{value:{setRoom:m,setMenuClicked:c}},r.a.createElement(f,null)))};return!s||a?r.a.createElement(i,null):r.a.createElement("div",{className:"chatContainer"},r.a.createElement("div",{className:"hamMenu",onClick:function(e){return c((function(e){return!e}))}},r.a.createElement("div",null)),r.a.createElement(b,{room:s}))};var j=function(){var e=Object(n.useContext)(O).setUserName,t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:"welcomePage"},r.a.createElement("h1",null,"Welcome to the chat App"),r.a.createElement("p",null,"Enter your name and lets have fun together"),r.a.createElement("form",null,r.a.createElement("input",{type:"text",value:c,placeholder:"Name (max 12 characters)",onChange:function(e){var t=e.target.value;h(t,12)&&l(t)}}),r.a.createElement("button",{type:"submit",onClick:function(t){e(c)}},"Lets Go")))},O=r.a.createContext();var N=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1];return a?r.a.createElement("div",{className:"App"},r.a.createElement(O.Provider,{value:{userName:a,setUserName:c}},r.a.createElement(g,null))):r.a.createElement(O.Provider,{value:{userName:a,setUserName:c}},r.a.createElement(j,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.1c0e7b18.chunk.js.map